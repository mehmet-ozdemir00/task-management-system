<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO Meta Tags -->
  <meta name="description" content="Manage tasks effectively with TaskFlow, a comprehensive task management app.">
  <meta name="keywords" content="task management, productivity, projects, TaskFlow">

  <title>Reports</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <!-- JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="reportPage.js" defer></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<!-- Sidebar and Header combined into one wrapper -->
<section class="sidebar-header-wrapper">
  <!-- Sidebar -->
  <aside class="sidebar">
    <h2 class="sidebar-title">TaskFlow</h2>
    <nav class="sidebar-nav">
      <ul class="sidebar-list">
        <li><a href="index.html" class="sidebar-link"><i class="fa fa-fw fa-home"></i> Dashboard</a></li>
        <li><a href="project.html" class="sidebar-link"><i class="fa fa-fw fa-folder-open"></i> Tasks</a></li>
        <li><a href="report.html" class="sidebar-link"><i class="fa fa-fw fa-chart-bar vertical-icon"></i> Analytics</a></li>
      </ul>
    </nav>
  </aside>

  <!-- Header with Search - Notification and Profile -->
  <header class="header">
    <div class="search-bar">
      <input type="text" id="search-input" placeholder="Search..." class="search-input">
      <i class="clear fa fa-times" style="display: none;"></i>
    </div>

    <!-- Right-side elements (Status Dropdown, Profile Image & Notification Icon) -->
    <div class="right-side">
      <!-- Notification Icon -->
      <div class="notification-container">
        <i class="fa-solid fa-bell" id="notification-icon">
          <span id="notification-count" class="notification-count">0</span>
        </i>
      </div>

      <!-- Notification Dropdown -->
      <div class="notification-dropdown" id="notification-dropdown">
        <h5>Notifications</h5>
        <ul id="notification-list">
          <!-- Notifications will be populated here -->
        </ul>
      </div>

      <!-- Profile Image and Status -->
      <div class="profile-container">
        <span class="user-status-badge" id="headerStatus">Available</span>
        <img src="image/image.jpeg" alt="Profile" class="profile-image" id="profileImage">

        <!-- Custom Dropdown for status selection -->
        <div id="statusDropdown" class="status-dropdown">
          <h5><i class="fa fa-user"></i> Set Your Status</h5>
          <div class="status-option" data-status="Available">Available</div>
          <div class="status-option" data-status="In a Meeting">In a Meeting</div>
          <div class="status-option" data-status="At Lunch">At Lunch</div>
          <div class="status-option" data-status="On Break">On Break</div>
          <div class="status-option" data-status="Training">Training</div>
        </div>
      </div>
    </div>
  </header>
</section>

<!-- Title Section -->
<div class="title-section">
  <h2 class="page-subtitle">Analytics</h2>
</div>

<!-- Title Description -->
<div class="content-section">
  <h2>Task Progress and Status Insights</h2>
  <p>
    Monitor task performance and progress efficiently. This dashboard provides a comprehensive overview of task counts
    categorized by statusâ€”Completed, In Progress, Pending, Canceled, Overdue, and On Hold.
    It dynamically displays percentages and progress bars for each category, helping you assess task distribution,
    identify bottlenecks, and prioritize tasks effectively.
  </p>
</div>

<!-- Task Metrics Dashboard for Analytics-->
<div class="analytics">

  <!-- Completed Tasks -->
  <div class="card">
    <div class="card-head">
      <span class="fa fa-check-circle" style="color: #04c204;"></span>
      <h2>Completed</h2>
      <h3 class="task-count">0</h3>
    </div>
    <div class="card-progress">
      <div class="indicator-bar completed">
        <span class="progress-text">0%</span>
      </div>
    </div>
    <p class="task-explanation" id="completed-explanation"></p>
  </div>

  <!-- In Progress Tasks -->
  <div class="card">
    <div class="card-head">
      <span class="fa fa-spinner fa-spin" style="color: #FFA500;"></span>
      <h2>In-Progress</h2>
      <h3 class="task-count">0</h3>
    </div>
    <div class="card-progress">
      <div class="indicator-bar in-progress">
        <span class="progress-text">0%</span>
      </div>
    </div>
    <p class="task-explanation" id="in-progress-explanation"></p>
  </div>

  <!-- Canceled Tasks -->
  <div class="card">
    <div class="card-head">
      <span class="fa fa-ban" style="color: #F8482A;"></span>
      <h2>Canceled</h2>
      <h3 class="task-count">0</h3>
    </div>
    <div class="card-progress">
      <div class="indicator-bar canceled">
        <span class="progress-text">0%</span>
      </div>
    </div>
    <p class="task-explanation" id="canceled-explanation"></p>
  </div>

  <!-- Pending Tasks -->
  <div class="card">
    <div class="card-head">
      <span class="fa fa-clock" style="color: #00BFFF;"></span>
      <h2>Pending</h2>
      <h3 class="task-count">0</h3>
    </div>
    <div class="card-progress">
      <div class="indicator-bar pending">
        <span class="progress-text">0%</span>
      </div>
    </div>
    <p class="task-explanation" id="pending-explanation"></p>
  </div>

  <!-- Overdue Tasks -->
  <div class="card">
    <div class="card-head">
      <span class="fa fa-calendar-times" style="color: #b0122a;"></span>
      <h2>Overdue</h2>
      <h3 class="task-count">0</h3>
    </div>
    <div class="card-progress">
      <div class="indicator-bar overdue">
        <span class="progress-text">0%</span>
      </div>
    </div>
    <p class="task-explanation" id="overdue-explanation"></p>
  </div>

  <!-- On Hold Tasks -->
  <div class="card">
    <div class="card-head">
      <span class="fa fa-pause-circle" style="color: #7d7d7d;"></span>
      <h2>On-Hold</h2>
      <h3 class="task-count">0</h3>
    </div>
    <div class="card-progress">
      <div class="indicator-bar on-hold">
        <span class="progress-text">0%</span>
      </div>
    </div>
    <p class="task-explanation" id="on-hold-explanation"></p>
  </div>

  <!-- Total Tasks -->
  <div class="card">
    <div class="card-head">
      <span class="fa fa-tasks" style="color: #0451a4; font-size: 2.5rem;"></span>
      <h1>Total Tasks</h1>
    </div>
    <div class="card-body">
      <h3 class="task-count total-tasks">0</h3>
    </div>
  </div>
</div>

<!-- Title Section -->
<div class="content-section">
  <h2>Task Status Distribution and Insights</h2>
  <p>
    Visualize task status distribution with detailed counts and percentage contributions for each category:
    Completed, In Progress, Pending, Canceled, Overdue, and On Hold.
    Gain actionable insights to identify performance trends and optimize task management strategies.
  </p>
</div>

<!-- Chart for Task Performance Analysis -->
<div class="chart-container">
  <canvas id="myChart"></canvas>
  <div id="no-data-message">
    <i class="fas fa-info-circle"></i>
    <p>No task data is currently available. Please check back later for updates!</p>
  </div>
</div>


<!-- Title Section -->
<div class="content-section">
  <h2>Task Status by Deadline</h2>
  <p>
    Visualize the distribution of tasks marked as "In Progress" and "Pending" by their deadline dates. This line chart
    dynamically displays task counts grouped by their due dates, providing insights into upcoming deadlines and workload
    distribution. Leverage these insights to stay organized, address bottlenecks, and ensure tasks are completed on time.
  </p>
</div>

<!-- Line Chart for Visualize Workflow -->
<div class="chart-container">
  <canvas id="lineChart"></canvas>
  <div id="no-data-text">
    <i class="fas fa-info-circle"></i>
    <p>No task data is currently available. To effectively visualize your remaining workflow,
      please ensure you have tasks marked as 'In Progress' or 'Pending' added to your list. Check back later for updates!</p>
  </div>
</div>

<!-- Productivity Trends Chart -->
<div class="content-section">
  <h2>Track Your Productivity Trends</h2>
  <p>
    Visualize your productivity trends with a line chart that displays the number of tasks completed over the past week, month, or custom date range.
  </p>
</div>

<!-- Date Range Filter -->
<div class="filter-date">
  <label for="start-date">Start Date:</label>
  <input type="date" id="start-date">
  <label for="end-date">End Date:</label>
  <input type="date" id="end-date">
  <button id="apply-date-filter">Apply Date Filter</button>
  <!-- Preset Date Ranges -->
  <button id="last-7-days">Last 7 Days</button>
  <button id="last-30-days">Last 30 Days</button>
</div>

<!-- Line Chart for Completed Tasks -->
<div class="new-chart-container">
  <canvas id="productivityTrendsChart"></canvas>
  <div class="new-message" id="select-date-message" style="display: block;">
    <i class="fas fa-calendar"></i>
    <p>Please select a date range to visualize the completed tasks..</p>
  </div>
</div>

<!-- Loading Spinner -->
<div id="loadingSpinner" class="loading-spinner" style="display: none;">
  <div class="spinner"></div>
</div>

</body>
</html>